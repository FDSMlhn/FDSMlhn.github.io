<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="hexo," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="I see one of the im2col implement in Python  as following in the Assignment2 of CS231n:">
<meta property="og:type" content="article">
<meta property="og:title" content="Understanding im2col implementation in Python(numpy fancy indexing)">
<meta property="og:url" content="http://yoursite.com/2017/11/02/Understanding im2col implementation in Python(numpy fancy indexing)/index.html">
<meta property="og:site_name" content="Nevermore">
<meta property="og:description" content="I see one of the im2col implement in Python  as following in the Assignment2 of CS231n:">
<meta property="og:updated_time" content="2017-11-03T23:12:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Understanding im2col implementation in Python(numpy fancy indexing)">
<meta name="twitter:description" content="I see one of the im2col implement in Python  as following in the Assignment2 of CS231n:">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/11/02/Understanding im2col implementation in Python(numpy fancy indexing)/"/>


  <title> Understanding im2col implementation in Python(numpy fancy indexing) | Nevermore </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="en">

  










  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Nevermore</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Just begins.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule" rel="section">
            
            Schedule
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Understanding im2col implementation in Python(numpy fancy indexing)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-11-02T00:00:00-07:00" content="2017-11-02">
              2017-11-02
            </time>
          </span>

          

          
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv"><i class="fa fa-file-o"></i>Views
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <hr>
<p>I see one of the im2col implement in Python  as following in the Assignment2 of CS231n:<br><a id="more"></a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_im2col_indices</span><span class="params">(x_shape, field_height, field_width, padding=<span class="number">1</span>, stride=<span class="number">1</span>)</span>:</span></div><div class="line">    <span class="comment"># First figure out what the size of the output should be</span></div><div class="line">    N, C, H, W = x_shape</div><div class="line">    <span class="keyword">assert</span> (H + <span class="number">2</span> * padding - field_height) % stride == <span class="number">0</span></div><div class="line">    <span class="keyword">assert</span> (W + <span class="number">2</span> * padding - field_height) % stride == <span class="number">0</span></div><div class="line">    out_height = (H + <span class="number">2</span> * padding - field_height) / stride + <span class="number">1</span></div><div class="line">    out_width = (W + <span class="number">2</span> * padding - field_width) / stride + <span class="number">1</span></div><div class="line"></div><div class="line">    i0 = np.repeat(np.arange(field_height), field_width)</div><div class="line">    i0 = np.tile(i0, C)</div><div class="line">    i1 = stride * np.repeat(np.arange(out_height), out_width)</div><div class="line">    j0 = np.tile(np.arange(field_width), field_height * C)</div><div class="line">    j1 = stride * np.tile(np.arange(out_width), out_height)</div><div class="line">    i = i0.reshape(<span class="number">-1</span>, <span class="number">1</span>) + i1.reshape(<span class="number">1</span>, <span class="number">-1</span>)</div><div class="line">    j = j0.reshape(<span class="number">-1</span>, <span class="number">1</span>) + j1.reshape(<span class="number">1</span>, <span class="number">-1</span>)</div><div class="line"></div><div class="line">    k = np.repeat(np.arange(C), field_height * field_width).reshape(<span class="number">-1</span>, <span class="number">1</span>)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (k, i, j)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">im2col_indices</span><span class="params">(x, field_height, field_width, padding=<span class="number">1</span>, stride=<span class="number">1</span>)</span>:</span></div><div class="line">    <span class="string">""" An implementation of im2col based on some fancy indexing """</span></div><div class="line">    <span class="comment"># Zero-pad the input</span></div><div class="line">    p = padding</div><div class="line">    x_padded = np.pad(x, ((<span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">0</span>), (p, p), (p, p)), mode=<span class="string">'constant'</span>)</div><div class="line"></div><div class="line">    k, i, j = get_im2col_indices(x.shape, field_height, field_width, padding,</div><div class="line">                                 stride)</div><div class="line"></div><div class="line">    cols = x_padded[:, k, i, j]</div><div class="line">    C = x.shape[<span class="number">1</span>]</div><div class="line">    cols = cols.transpose(<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>).reshape(field_height * field_width * C, <span class="number">-1</span>)</div><div class="line">    <span class="keyword">return</span> cols</div></pre></td></tr></table></figure></p>
<p>Even if I’ve used Python for three years long, It is still something mindblowing for me to understand how it works at first! In order to understand the mechanism of this function. It’s time to learn more about the fancy indexing in the Python.</p>
<p>When we implement the Backpropagation of Neural Network, we might see something like this to compute the final Loss function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">loss = some_loss_fun(scores[np.arange(N), target_y])</div></pre></td></tr></table></figure>
<p>We know it’s to extract the elements of according position out, the output will be (N,). At first you will tend to treat it as a small trick to memorize it and don’t care what’s going on hehind. But if you start to look at something like this, you will see this index can do things far beyond your thoughts(I also had no idea what it will give me before I ran this code:).)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">59</span>]: k = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</div><div class="line"></div><div class="line">In [<span class="number">60</span>]: k</div><div class="line">Out[<span class="number">60</span>]: </div><div class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</div><div class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</div><div class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</div><div class="line"></div><div class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</div><div class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</div><div class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</div><div class="line"></div><div class="line">In [<span class="number">62</span>]: k[:,np.arange(<span class="number">2</span>),np.arange(<span class="number">2</span>).reshape(<span class="number">-1</span>,<span class="number">1</span>) * np.arange(<span class="number">2</span>) ]</div><div class="line">Out[<span class="number">62</span>]:</div><div class="line">array([[[ <span class="number">0</span>,  <span class="number">4</span>],</div><div class="line">        [ <span class="number">0</span>,  <span class="number">5</span>]],</div><div class="line"></div><div class="line">       [[<span class="number">12</span>, <span class="number">16</span>],</div><div class="line">        [<span class="number">12</span>, <span class="number">17</span>]]])</div></pre></td></tr></table></figure>
<p>Actually at the beginning this fancy indexing, Python will try to broadcast the indexing arrays into the same dimension, And a small <strong>caveat</strong> here, broadcasting will always first look for trailing dimensions. In our example, np.arange(2) in this second dimension after broadcasting will become the left one instead of the right one.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[[ <span class="number">0</span>,  <span class="number">1</span>],  right!       [[ <span class="number">0</span>,  <span class="number">0</span>], <span class="comment">#wrong!</span></div><div class="line"> [ <span class="number">0</span>,  <span class="number">1</span>]]                [ <span class="number">1</span>,  <span class="number">1</span>]]</div></pre></td></tr></table></figure>
<p>And then, it will extract the correspond elements as we might think. Eventually the think will like the outcome we run above.</p>
<p>While writing this, I also find a interesting example in the document of numpy to demonstrate the magic of broadcast. If you have more interest in it. Please click <a href="https://docs.scipy.org/doc/numpy-1.13.0/user/basics.broadcasting.html#general-broadcasting-rules" target="_blank" rel="external">here</a>.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A      (<span class="number">4</span>d array):  <span class="number">8</span> x <span class="number">1</span> x <span class="number">6</span> x <span class="number">1</span></div><div class="line">B      (<span class="number">3</span>d array):      <span class="number">7</span> x <span class="number">1</span> x <span class="number">5</span></div><div class="line">Result (<span class="number">4</span>d array):  <span class="number">8</span> x <span class="number">7</span> x <span class="number">6</span> x <span class="number">5</span></div></pre></td></tr></table></figure></p>
<p>Besides, we need to see : is sort of special in the indexing, which means the outcome of these two piece of code will be different.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">77</span>]: k[:,:,np.arange(<span class="number">2</span>).reshape(<span class="number">-1</span>,<span class="number">1</span>) * np.arange(<span class="number">2</span>) ] <span class="comment">#This will give a matrix of shape(2,3,2,2)</span></div><div class="line">Out[<span class="number">77</span>]: </div><div class="line">array [[[[ <span class="number">0</span>,  <span class="number">0</span>],</div><div class="line">         [ <span class="number">0</span>,  <span class="number">1</span>]],</div><div class="line"></div><div class="line">        [[ <span class="number">4</span>,  <span class="number">4</span>],</div><div class="line">         [ <span class="number">4</span>,  <span class="number">5</span>]],</div><div class="line"></div><div class="line">        [[ <span class="number">8</span>,  <span class="number">8</span>],</div><div class="line">         [ <span class="number">8</span>,  <span class="number">9</span>]]],</div><div class="line"></div><div class="line"></div><div class="line">       [[[<span class="number">12</span>, <span class="number">12</span>],</div><div class="line">         [<span class="number">12</span>, <span class="number">13</span>]],</div><div class="line"></div><div class="line">        [[<span class="number">16</span>, <span class="number">16</span>],</div><div class="line">         [<span class="number">16</span>, <span class="number">17</span>]],</div><div class="line"></div><div class="line">        [[<span class="number">20</span>, <span class="number">20</span>],</div><div class="line">         [<span class="number">20</span>, <span class="number">21</span>]]]])</div><div class="line">In [<span class="number">78</span>]: k[:,np.arange(<span class="number">3</span>),np.arange(<span class="number">2</span>).reshape(<span class="number">-1</span>,<span class="number">1</span>) * np.arange(<span class="number">2</span>) ] <span class="comment">#this will give you an error because it can not broadcast properly.</span></div></pre></td></tr></table></figure>
<p>With this thorough understanding of Python Fancy Indexing, we will go back and see the intricated implement of im2col.</p>
<p>We first need to examine the dimension of these three outcome indices</p>
<p>k is of shape (C <em> field_height </em> field_width, 1)<br>i is of shape (C <em> field_height </em> field_width, out_height<em>out_width)<br>j is of shape (C </em> field_height <em> field_width, out_height</em>out_width)</p>
<p>So when we use index in <code>x_padded[:, k, i, j]</code>, we are extract out a matrix of 3-D (N, C <em> field_height </em> field_width, out_height<em>out_width), the broadcasted index matrix is of dimension (C </em> field_height <em> field_width, out_height</em>out_width). Remember each neuron in filters in CNN will generally have C <em> field_height </em> field_width weight on it.</p>
<p>Now it might be clearlier for you to see what’s going on here. We will take the first slice of index matrix (C <em> field_height </em> field_width, 1), which give you the outcome of first neuron to guide you the whole process. There will be out_height*out_width neurons in a single filter</p>
<p>I will refer to second, third, fourth dimension of x(image) as C, H, W position.</p>
<ol>
<li>The index in the C position tries to traverse different channel, for each channel, there will be field_height * field_width numbers to be used, which indicates how many pixel every neuron try to capture in a single channel. Index will look like this:</li>
</ol>
<p>$$<br>\underbrace{\underbrace{c,\dots,c}_{length\ of\ F_H * F_W } }_{c\ =\ 0,\dots,C-1}<br>$$</p>
<ol>
<li>The index in the H channel is try to traverse the height of each position in the neural. Due to the fact the implementation will get width-side pixel first. so it will have index like:</li>
</ol>
<p>$$<br>\underbrace{\underbrace{0,\dots,0}_{length\ of\ F_W},\dots, \underbrace{F_H-1,\dots,F_H-1}_{length\ of\ F_W} }_{rep\ for\ C\ times}<br>$$</p>
<ol>
<li>Accordingly,The index in the W channel looks like this:</li>
</ol>
<p>$$<br>\underbrace{\underbrace{0,1, \dots,F_W-1}_{F_H\ times}}_{rep\ for\ C\ times}<br>$$</p>
<p>The <code>i1</code>, <code>j1</code> in function<code>get_im2col_indices</code> is used to tuned the width and height index positionS according to different neurons. Because we also traverse width side first for all neurons in each filter, so we use <code>np.tile</code> for <code>j1</code>(row), <code>np.repeat</code> for <code>i1</code>(column).</p>
<p>By the way, Python always operates first on trailing dimensions. For instance, the reshape will first spread out or gather the row-side in 2-D array:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">84</span>]: np.array(list(range(<span class="number">12</span>))).reshape(<span class="number">3</span>,<span class="number">4</span>)</div><div class="line">Out[<span class="number">84</span>]: </div><div class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</div><div class="line">       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</div><div class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</div><div class="line"></div><div class="line"><span class="comment">#instead of </span></div><div class="line">array([[ <span class="number">0</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">9</span>],</div><div class="line">       [ <span class="number">1</span>,  <span class="number">4</span>,  <span class="number">7</span>, <span class="number">10</span>],</div><div class="line">       [ <span class="number">2</span>,  <span class="number">5</span>,  <span class="number">8</span>, <span class="number">11</span>]])</div></pre></td></tr></table></figure>
<hr>
<p>f you find any mistakes in this passage, feel free to contact me through my email: FDSM_lhn@yahoo.com. </p>
<p>You’re welcome to share my passage to other websites or bloggers. <strong>But please add my name and link to this post alongside</strong>. Thank you!</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/hexo/" rel="tag"><i class="fa fa-tag"></i>hexo</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/22/Derivation of Back Propagation Through Time (BPTT) - Vanilla Recurrent Neural Network(RNN)/" rel="next" title="Derivation of Back Propagation Through Time (BPTT) - Vanilla Recurrent Neural Network(RNN)">
                <i class="fa fa-chevron-left"></i> Derivation of Back Propagation Through Time (BPTT) - Vanilla Recurrent Neural Network(RNN)
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Haonan Li" />
          <p class="site-author-name" itemprop="name">Haonan Li</p>
          <p class="site-description motion-element" itemprop="description">Strong Mind = Success</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">2</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <p class="post-toc-empty">This post does not have a Table of Contents</p>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Haonan Li</span>
</div>

<!-- <div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i># of visitors<span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i>Overall Views<span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>
  <a href="https://github.com/FDSMlhn"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/567c3a48d796e2fc06ea80409cc9dd82bf714434/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png"></a>
  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

  


</body>
</html>
